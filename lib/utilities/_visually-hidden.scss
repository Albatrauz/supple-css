/*! supple.utilities.visually-hidden | MIT License | github.com/supple-css */

/*  =========================================================================
    utilities.visually-hidden
    Hides an element visually while still allowing the content to be accessible
    to assistive technology, e.g. screen readers.
    As per: https://a11yproject.com/posts/how-to-hide-content
    ========================================================================= */

/*  Variables
    ========================================================================= */

/**
 * Namespacing
 */
$supple-visually-hidden-namespace: $supple-namespace !default;
$supple-visually-hidden-combined-namespace: #{$supple-visually-hidden-namespace}#{$supple-namespace-utility} !default;
$supple-visually-hidden-responsive-modifier: $supple-responsive-modifier !default;


/**
* Define which namespaced breakpoints you would like to generate for
* `visually-hidden`. This is handy if you only need `visually-hidden` on, say,
* desk, or you only need it at mobile sizes. It allows you to only compile
* as much CSS as you need.
* All are empty by default, but you can add breakpoints at will.
*
* $supple-breakpoint-has-visually-hidden: ("lap", "desk");
*
* Note: the name of the breakpoint must exist in the list of `$mq-breakpoints`
*       in `settings/responsive`
*/
$supple-breakpoint-has-visually-hidden: () !default;



/*  Functions/mixins
    Functions and/or mixins used in this module
    ========================================================================= */

@mixin supple-visually-hidden {
  border: 0 !important;
  clip: rect(0 0 0 0) !important;
  clip-path: inset(50%) !important;
  height: 1px !important;
  margin: -1px !important;
  overflow: hidden !important;
  padding: 0 !important;
  position: absolute !important;
  white-space: nowrap !important;
  width: 1px !important;
}



/*  Module
    ========================================================================= */

.#{$supple-visually-hidden-combined-namespace}visually-hidden {
  @include supple-visually-hidden();
}



/*  Responsive
    ========================================================================= */

@each $name in $supple-breakpoint-has-visually-hidden {
  @if (variable-exists(mq-breakpoints)) {
    @include mq($from: $name) {
      .#{$supple-visually-hidden-combined-namespace}visually-hidden#{$supple-visually-hidden-responsive-modifier}#{$name} {
        @include supple-visually-hidden();
      }
    }
  } @else {
    @warn $supple-responsive-warning;
  }
}
